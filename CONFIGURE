LOADADDR ?= 0x08000000
PLAYADDR ?= 0x08000000
UPLOAD   ?= 0x08020000

# 'y' to enable the functionality while 'n' to disable
CONFIG_DEBUG?=y
	CONFIG_DEBUG_SYSCALL=y
	CONFIG_DEBUG_SYSCALL_NESTED=y
CONFIG_SCHEDULER?=y
CONFIG_REALTIME?=y
CONFIG_SLEEP_LONG?=y
CONFIG_SLEEP_DEEP?=y
CONFIG_COMMON_IRQ_HANDLER?=y
CONFIG_SYSCALL?=y
	CONFIG_SYSCALL_DELEGATE?=y
CONFIG_FS?=n
CONFIG_TIMER?=y
CONFIG_FLOAT?=n
CONFIG_FPU?=n
CONFIG_CPU_LOAD?=y
CONFIG_SOFTIRQ_THREAD?=n
CONFIG_MEM_WATERMARK=y
CONFIG_TASK_EXECUTION_TIME=y

# modules
MODULE_UART?=y
MODULE_TIMER?=n
MODULE_GPIO?=y
MODULE_SPI?=n
MODULE_IR?=n
MODULE_CLCD?=n
MODULE_LED?=n

# third party modules
USE_CMSIS?=n
USE_HAL?=n
USE_EMWIN?=n
USE_SHA256?=n
USE_AES?=n


################################################################################
# DO NOT EDIT BELOW THIS LINE
################################################################################

# Define
ifeq ($(CONFIG_DEBUG),n)
	NDEBUG=y
	DEFS += -DNDEBUG
endif
ifeq ($(CONFIG_SCHEDULER),y)
	DEFS += -DCONFIG_SCHEDULER
endif
ifeq ($(CONFIG_SMP),y)
	DEFS += -DCONFIG_SMP
endif
ifeq ($(CONFIG_REALTIME),y)
	DEFS += -DCONFIG_REALTIME
endif
ifeq ($(CONFIG_PAGING),y)
	DEFS += -DCONFIG_PAGING
endif
ifeq ($(CONFIG_SYSCALL),y)
	DEFS += -DCONFIG_SYSCALL
	ifeq ($(CONFIG_SYSCALL_DELEGATE),y)
		DEFS += -DCONFIG_SYSCALL_DELEGATE
	endif
	ifeq ($(CONFIG_DEBUG_SYSCALL), y)
		DEFS += -DCONFIG_DEBUG_SYSCALL
	endif
	ifeq ($(CONFIG_DEBUG_SYSCALL_NESTED), y)
		DEFS += -DCONFIG_DEBUG_SYSCALL_NESTED
	endif
endif
ifeq ($(CONFIG_FS),y)
	DEFS += -DCONFIG_FS
	SRCS += $(BASEDIR)/fs/vfs.c
endif
ifeq ($(CONFIG_TIMER),y)
	DEFS += -DCONFIG_TIMER
endif
ifeq ($(CONFIG_FLOAT),y)
	DEFS += -DCONFIG_FLOAT
endif
ifeq ($(CONFIG_FPU),y)
	DEFS += -DCONFIG_FPU
endif
ifeq ($(CONFIG_CPU_LOAD),y)
	DEFS += -DCONFIG_CPU_LOAD
endif
ifeq ($(CONFIG_SOFTIRQ_THREAD),y)
	DEFS += -DCONFIG_SOFTIRQ_THREAD
endif
ifeq ($(CONFIG_SLEEP_LONG),y)
	DEFS += -DCONFIG_SLEEP_LONG
endif
ifeq ($(CONFIG_SLEEP_DEEP),y)
	DEFS += -DCONFIG_SLEEP_DEEP
endif
ifeq ($(CONFIG_COMMON_IRQ_HANDLER),y)
	DEFS += -DCONFIG_COMMON_IRQ_HANDLER
endif
ifeq ($(CONFIG_MEM_WATERMARK),y)
	DEFS += -DCONFIG_MEM_WATERMARK
endif
ifeq ($(CONFIG_TASK_EXECUTION_TIME),y)
	DEFS += -DCONFIG_TASK_EXECUTION_TIME
endif

# Compile
ifeq ($(MODULE_UART),y)
	SRCS += drivers/uart.c
	DEFS += -DMODULE_UART
endif
ifeq ($(MODULE_TIMER),y)
	SRCS += drivers/timer.c
	DEFS += -DMODULE_TIMER
endif
ifeq ($(MODULE_GPIO),y)
	SRCS += drivers/gpio.c
	DEFS += -DMODULE_GPIO
endif
ifeq ($(MODULE_SPI),y)
	SRCS += drivers/spi.c
	DEFS += -DMODULE_SPI
endif
ifeq ($(MODULE_IR),y)
	SRCS += drivers/ir.c
	DEFS += -DMODULE_IR
endif
ifeq ($(MODULE_CLCD),y)
	SRCS += drivers/clcd.c
	DEFS += -DMODULE_CLCD
endif
ifeq ($(MODULE_LED),y)
	SRCS += drivers/led.c
	DEFS += -DMODULE_LED
endif
